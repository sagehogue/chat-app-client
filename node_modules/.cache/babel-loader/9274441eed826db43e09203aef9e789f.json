{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Willp\\\\Desktop\\\\chat-app-sage\\\\chat-app-client-master\\\\src\\\\pages\\\\HomePage\\\\NewRoomModal\\\\NewRoomModal.jsx\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport Modal from \"../../../components/UI/Modal/Modal\"; // [TODOS]\n// Create a way to invite users to room as soon as it is created.\n\nconst Styles = styled(Modal)`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  text-align: center;\n`;\nconst Heading = styled.h3`\n  margin-top: 2rem;\n  text-align: center;\n`;\nconst Label = styled.label`\n  text-align: center;\n  display: block;\n  margin-top: 1.25rem;\n`;\nconst CreateRoomForm = styled.form`\n  margin-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  height: 75%;\n`;\nconst FormInput = styled.input`\n  display: block;\n  margin: ${props => props.centered ? \"0 auto 0 auto\" : \"0\"};\n  width: 100%;\n`;\nconst SubmitButton = styled.button`\n  margin-top: auto;\n`;\nconst ConfirmPasswordInput = styled(FormInput)`\n  &::after {\n    content: ${props => props.passwordMatch ? \"\" : \"Passwords do not match\"};\n  }\n`;\nconst ErrorBox = styled.div`\n  color: red;\n  font-size: 1.5rem;\n`;\nexport default function NewRoomModal({\n  visible,\n  submitHandler,\n  closeHandler,\n  user\n}) {\n  const [name, setName] = useState(\"\");\n  const [passwordProtected, setPasswordProtected] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordsMatch, setPasswordsMatch] = useState(false);\n\n  const handleChange = event => {\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    const inputName = target.name;\n\n    switch (inputName) {\n      case \"roomName\":\n        setName(value); // check if roomName is taken\n\n        return;\n\n      case \"isPasswordProtected\":\n        setPasswordProtected(value);\n        return;\n\n      case \"password\":\n        setPassword(value);\n\n        if (confirmPassword) {\n          setPasswordsMatch(value == confirmPassword);\n        }\n\n        return;\n\n      case \"confirmPassword\":\n        setConfirmPassword(value);\n        console.log(password, value, password == value);\n        setPasswordsMatch(password == value);\n        return;\n    }\n  };\n\n  const clearInputs = () => {\n    setName(\"\");\n    setPasswordProtected(false);\n    setPassword(\"\");\n    setConfirmPassword(\"\");\n    setPasswordsMatch(false);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      roomName: name,\n      passwordProtected: passwordProtected,\n      password: password,\n      creator: user.displayName,\n      creatorUID: user.uid\n    };\n    submitHandler(data);\n  };\n\n  if (visible == false && (name || password || confirmPassword || passwordProtected)) {\n    clearInputs();\n  }\n\n  return /*#__PURE__*/React.createElement(Styles, {\n    visible: visible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, \"Create New Room\"), /*#__PURE__*/React.createElement(CreateRoomForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, \"Name:\", /*#__PURE__*/React.createElement(FormInput, {\n    type: \"text\",\n    value: name,\n    name: \"roomName\",\n    onChange: handleChange,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, \"Password Protected?\", /*#__PURE__*/React.createElement(FormInput, {\n    name: \"isPasswordProtected\",\n    type: \"checkbox\",\n    checked: passwordProtected,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  })), passwordProtected ? /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, \"Password:\", /*#__PURE__*/React.createElement(FormInput, {\n    name: \"password\",\n    type: \"password\",\n    value: password,\n    onChange: handleChange,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  })) : null, passwordProtected ? /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, \"Confirm Password:\", /*#__PURE__*/React.createElement(ConfirmPasswordInput, {\n    name: \"confirmPassword\",\n    type: \"password\",\n    value: confirmPassword,\n    onChange: handleChange,\n    centered: true,\n    passwordMatch: passwordsMatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  })) : null, /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n}","map":{"version":3,"sources":["C:/Users/Willp/Desktop/chat-app-sage/chat-app-client-master/src/pages/HomePage/NewRoomModal/NewRoomModal.jsx"],"names":["React","useState","styled","Modal","Styles","Heading","h3","Label","label","CreateRoomForm","form","FormInput","input","props","centered","SubmitButton","button","ConfirmPasswordInput","passwordMatch","ErrorBox","div","NewRoomModal","visible","submitHandler","closeHandler","user","name","setName","passwordProtected","setPasswordProtected","password","setPassword","confirmPassword","setConfirmPassword","passwordsMatch","setPasswordsMatch","handleChange","event","target","value","type","checked","inputName","console","log","clearInputs","handleSubmit","preventDefault","data","roomName","creator","displayName","creatorUID","uid"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Modal from \"../../../components/UI/Modal/Modal\";\r\n\r\n// [TODOS]\r\n\r\n// Create a way to invite users to room as soon as it is created.\r\n\r\nconst Styles = styled(Modal)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst Heading = styled.h3`\r\n  margin-top: 2rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  text-align: center;\r\n  display: block;\r\n  margin-top: 1.25rem;\r\n`;\r\n\r\nconst CreateRoomForm = styled.form`\r\n  margin-top: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 75%;\r\n`;\r\n\r\nconst FormInput = styled.input`\r\n  display: block;\r\n  margin: ${(props) => (props.centered ? \"0 auto 0 auto\" : \"0\")};\r\n  width: 100%;\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\n  margin-top: auto;\r\n`;\r\n\r\nconst ConfirmPasswordInput = styled(FormInput)`\r\n  &::after {\r\n    content: ${(props) =>\r\n      props.passwordMatch ? \"\" : \"Passwords do not match\"};\r\n  }\r\n`;\r\n\r\nconst ErrorBox = styled.div`\r\n  color: red;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\nexport default function NewRoomModal({\r\n  visible,\r\n  submitHandler,\r\n  closeHandler,\r\n  user,\r\n}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [passwordProtected, setPasswordProtected] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [passwordsMatch, setPasswordsMatch] = useState(false);\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    const inputName = target.name;\r\n\r\n    switch (inputName) {\r\n      case \"roomName\":\r\n        setName(value);\r\n        // check if roomName is taken\r\n        return;\r\n      case \"isPasswordProtected\":\r\n        setPasswordProtected(value);\r\n        return;\r\n      case \"password\":\r\n        setPassword(value);\r\n        if (confirmPassword) {\r\n          setPasswordsMatch(value == confirmPassword);\r\n        }\r\n        return;\r\n      case \"confirmPassword\":\r\n        setConfirmPassword(value);\r\n        console.log(password, value, password == value);\r\n        setPasswordsMatch(password == value);\r\n        return;\r\n    }\r\n  };\r\n\r\n  const clearInputs = () => {\r\n    setName(\"\");\r\n    setPasswordProtected(false);\r\n    setPassword(\"\");\r\n    setConfirmPassword(\"\");\r\n    setPasswordsMatch(false);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const data = {\r\n      roomName: name,\r\n      passwordProtected: passwordProtected,\r\n      password: password,\r\n      creator: user.displayName,\r\n      creatorUID: user.uid,\r\n    };\r\n    submitHandler(data);\r\n  };\r\n  if (\r\n    visible == false &&\r\n    (name || password || confirmPassword || passwordProtected)\r\n  ) {\r\n    clearInputs();\r\n  }\r\n  return (\r\n    <Styles visible={visible}>\r\n      <Heading>Create New Room</Heading>\r\n      <CreateRoomForm>\r\n        <Label>\r\n          Name:\r\n          <FormInput\r\n            type=\"text\"\r\n            value={name}\r\n            name={\"roomName\"}\r\n            onChange={handleChange}\r\n            centered\r\n          />\r\n        </Label>\r\n        <Label>\r\n          Password Protected?\r\n          <FormInput\r\n            name=\"isPasswordProtected\"\r\n            type=\"checkbox\"\r\n            checked={passwordProtected}\r\n            onChange={handleChange}\r\n          />\r\n        </Label>\r\n        {passwordProtected ? (\r\n          <Label>\r\n            Password:\r\n            <FormInput\r\n              name=\"password\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n              centered\r\n            />\r\n          </Label>\r\n        ) : null}\r\n        {passwordProtected ? (\r\n          <Label>\r\n            Confirm Password:\r\n            <ConfirmPasswordInput\r\n              name=\"confirmPassword\"\r\n              type=\"password\"\r\n              value={confirmPassword}\r\n              onChange={handleChange}\r\n              centered\r\n              passwordMatch={passwordsMatch}\r\n            />\r\n          </Label>\r\n        ) : null}\r\n        <SubmitButton type=\"submit\" onClick={handleSubmit}>\r\n          Submit\r\n        </SubmitButton>\r\n      </CreateRoomForm>\r\n    </Styles>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}